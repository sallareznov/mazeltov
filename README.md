# mazeltov

## Run

At the root of the project:
- To run the server:
  - `sbt run`
- To run the client:
  - `cd client`
  - `./followermaze.sh`

## Trace

```
...
Thu Sep 23 00:00:11 GMT 2021 [INFO] Sent: Broadcast -> 830, Follow -> 1234640, Private -> 1235428, StatusUpdate -> 4534581, Unfollow -> 1234502, total -> 8239981
Thu Sep 23 00:00:12 GMT 2021 [INFO] Sent: Broadcast -> 835, Follow -> 1241974, Private -> 1242770, StatusUpdate -> 4561377, Unfollow -> 1241850, total -> 8288806
Thu Sep 23 00:00:13 GMT 2021 [INFO] Sent: Broadcast -> 842, Follow -> 1249541, Private -> 1250260, StatusUpdate -> 4588578, Unfollow -> 1249451, total -> 8338672
Thu Sep 23 00:00:14 GMT 2021 [INFO] Sent: Broadcast -> 846, Follow -> 1256945, Private -> 1257563, StatusUpdate -> 4615656, Unfollow -> 1256736, total -> 8387746
Thu Sep 23 00:00:15 GMT 2021 [INFO] Sent: Broadcast -> 852, Follow -> 1264428, Private -> 1265017, StatusUpdate -> 4643053, Unfollow -> 1264181, total -> 8437531
Thu Sep 23 00:00:16 GMT 2021 [INFO] Sent: Broadcast -> 857, Follow -> 1271683, Private -> 1272169, StatusUpdate -> 4669917, Unfollow -> 1271476, total -> 8486102
Thu Sep 23 00:00:17 GMT 2021 [INFO] Sent: Broadcast -> 861, Follow -> 1279240, Private -> 1279706, StatusUpdate -> 4697689, Unfollow -> 1279040, total -> 8536536
Thu Sep 23 00:00:18 GMT 2021 [INFO] Sent: Broadcast -> 865, Follow -> 1286496, Private -> 1287004, StatusUpdate -> 4724496, Unfollow -> 1286140, total -> 8585001
Thu Sep 23 00:00:19 GMT 2021 [INFO] Sent: Broadcast -> 868, Follow -> 1293813, Private -> 1294421, StatusUpdate -> 4751800, Unfollow -> 1293598, total -> 8634500
Thu Sep 23 00:00:20 GMT 2021 [INFO] Sent: Broadcast -> 872, Follow -> 1300876, Private -> 1301440, StatusUpdate -> 4777321, Unfollow -> 1300649, total -> 8681158
Thu Sep 23 00:00:21 GMT 2021 [INFO] Sent: Broadcast -> 878, Follow -> 1308331, Private -> 1308995, StatusUpdate -> 4804885, Unfollow -> 1308217, total -> 8731306
Thu Sep 23 00:00:22 GMT 2021 [INFO] Sent: Broadcast -> 882, Follow -> 1315858, Private -> 1316242, StatusUpdate -> 4831542, Unfollow -> 1315479, total -> 8780003
Thu Sep 23 00:00:23 GMT 2021 [INFO] Sent: Broadcast -> 884, Follow -> 1323130, Private -> 1323573, StatusUpdate -> 4858277, Unfollow -> 1322903, total -> 8828767
Thu Sep 23 00:00:24 GMT 2021 [INFO] Sent: Broadcast -> 888, Follow -> 1330295, Private -> 1330817, StatusUpdate -> 4885211, Unfollow -> 1330244, total -> 8877455
Thu Sep 23 00:00:25 GMT 2021 [INFO] Sent: Broadcast -> 891, Follow -> 1337744, Private -> 1338360, StatusUpdate -> 4912848, Unfollow -> 1337630, total -> 8927473
Thu Sep 23 00:00:26 GMT 2021 [INFO] Sent: Broadcast -> 900, Follow -> 1345112, Private -> 1345658, StatusUpdate -> 4939123, Unfollow -> 1344793, total -> 8975586
Thu Sep 23 00:00:27 GMT 2021 [INFO] Sent: Broadcast -> 903, Follow -> 1352614, Private -> 1353125, StatusUpdate -> 4966392, Unfollow -> 1352067, total -> 9025101
Thu Sep 23 00:00:28 GMT 2021 [INFO] Sent: Broadcast -> 909, Follow -> 1359690, Private -> 1360465, StatusUpdate -> 4992610, Unfollow -> 1359101, total -> 9072775
Thu Sep 23 00:00:29 GMT 2021 [INFO] Sent: Broadcast -> 915, Follow -> 1366972, Private -> 1367607, StatusUpdate -> 5019202, Unfollow -> 1366289, total -> 9120985
Thu Sep 23 00:00:30 GMT 2021 [INFO] Sent: Broadcast -> 919, Follow -> 1373818, Private -> 1374572, StatusUpdate -> 5044366, Unfollow -> 1373109, total -> 9166784
Thu Sep 23 00:00:31 GMT 2021 [INFO] Sent: Broadcast -> 925, Follow -> 1380909, Private -> 1381728, StatusUpdate -> 5070824, Unfollow -> 1380327, total -> 9214713
Thu Sep 23 00:00:32 GMT 2021 [INFO] Sent: Broadcast -> 932, Follow -> 1387878, Private -> 1388848, StatusUpdate -> 5096282, Unfollow -> 1387326, total -> 9261266
Thu Sep 23 00:00:33 GMT 2021 [INFO] Sent: Broadcast -> 937, Follow -> 1395243, Private -> 1396128, StatusUpdate -> 5122816, Unfollow -> 1394763, total -> 9309887
Thu Sep 23 00:00:34 GMT 2021 [INFO] Sent: Broadcast -> 939, Follow -> 1402441, Private -> 1403248, StatusUpdate -> 5148799, Unfollow -> 1401849, total -> 9357276
Thu Sep 23 00:00:35 GMT 2021 [INFO] Sent: Broadcast -> 945, Follow -> 1409624, Private -> 1410473, StatusUpdate -> 5175206, Unfollow -> 1408977, total -> 9405225
Thu Sep 23 00:00:36 GMT 2021 [INFO] Sent: Broadcast -> 948, Follow -> 1416841, Private -> 1417463, StatusUpdate -> 5201165, Unfollow -> 1415989, total -> 9452406
Thu Sep 23 00:00:37 GMT 2021 [INFO] Sent: Broadcast -> 951, Follow -> 1423933, Private -> 1424734, StatusUpdate -> 5227403, Unfollow -> 1423181, total -> 9500202
Thu Sep 23 00:00:38 GMT 2021 [INFO] Sent: Broadcast -> 956, Follow -> 1430998, Private -> 1431677, StatusUpdate -> 5253221, Unfollow -> 1430190, total -> 9547042
Thu Sep 23 00:00:39 GMT 2021 [INFO] Sent: Broadcast -> 961, Follow -> 1438088, Private -> 1438776, StatusUpdate -> 5279491, Unfollow -> 1437444, total -> 9594760
Thu Sep 23 00:00:40 GMT 2021 [INFO] Sent: Broadcast -> 968, Follow -> 1444898, Private -> 1445284, StatusUpdate -> 5304105, Unfollow -> 1444319, total -> 9639574
Thu Sep 23 00:00:41 GMT 2021 [INFO] Sent: Broadcast -> 970, Follow -> 1452132, Private -> 1452731, StatusUpdate -> 5330987, Unfollow -> 1451574, total -> 9688394
Thu Sep 23 00:00:42 GMT 2021 [INFO] Sent: Broadcast -> 973, Follow -> 1459020, Private -> 1459694, StatusUpdate -> 5356715, Unfollow -> 1458506, total -> 9734908
Thu Sep 23 00:00:43 GMT 2021 [INFO] Sent: Broadcast -> 980, Follow -> 1466167, Private -> 1466884, StatusUpdate -> 5382803, Unfollow -> 1465653, total -> 9782487
Thu Sep 23 00:00:44 GMT 2021 [INFO] Sent: Broadcast -> 985, Follow -> 1473427, Private -> 1473864, StatusUpdate -> 5408350, Unfollow -> 1472773, total -> 9829399
Thu Sep 23 00:00:45 GMT 2021 [INFO] Sent: Broadcast -> 989, Follow -> 1480592, Private -> 1481187, StatusUpdate -> 5434935, Unfollow -> 1480102, total -> 9877805
Thu Sep 23 00:00:46 GMT 2021 [INFO] Sent: Broadcast -> 995, Follow -> 1487687, Private -> 1488380, StatusUpdate -> 5461072, Unfollow -> 1487321, total -> 9925455
Thu Sep 23 00:00:47 GMT 2021 [INFO] Sent: Broadcast -> 998, Follow -> 1495108, Private -> 1495698, StatusUpdate -> 5488220, Unfollow -> 1494658, total -> 9974682
Thu Sep 23 00:00:48 GMT 2021 [INFO] Sent: Broadcast -> 998, Follow -> 1498865, Private -> 1499442, StatusUpdate -> 5502175, Unfollow -> 1498520, total -> 10000000
Thu Sep 23 00:00:48 GMT 2021 [INFO] ...events sent, event source connection closed
Thu Sep 23 00:00:48 GMT 2021 [INFO] ========================================================
Thu Sep 23 00:00:48 GMT 2021 [INFO] waiting for remaining clients notifications...
Thu Sep 23 00:00:50 GMT 2021 [INFO] ========================================================
Thu Sep 23 00:00:50 GMT 2021 [INFO] \o/ ALL NOTIFICATIONS RECEIVED \o/ (in 217 seconds)
Thu Sep 23 00:00:50 GMT 2021 [INFO] ========================================================

real	3m37.631s
user	3m45.678s
sys	0m12.184s
```

## Architecture

### Libraries

- `akka` to leverage the Actor model to build every participant of the distributed system as an actor, and the support for [TCP](https://doc.akka.io/docs/akka/current/io-tcp.html)
- `scalatest` for testing purposes

### Modelling

For this challenge, I've given preference to performance instead of scalability. So I used many primitive types:
- `ByteString` and `String` for events (instead of for example a `sealed trait` I could've named `MazeEvent` with
as many implementations as types of events)
- value classes `UserId` and `EventId` to model identifiers
